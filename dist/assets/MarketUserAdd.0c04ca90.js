var Re=Object.defineProperty,Me=Object.defineProperties;var Ue=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var Ge=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var se=(e,o,n)=>o in e?Re(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,O=(e,o)=>{for(var n in o||(o={}))Ge.call(o,n)&&se(e,n,o[n]);if(oe)for(var n of oe(o))Ke.call(o,n)&&se(e,n,o[n]);return e},q=(e,o)=>Me(e,Ue(o));import{h as L,aJ as ce,ar as R,M as U,j as G,aK as z,r as P,N as Qe,m as C,ah as me,aL as pe,k as W,l as J,L as X,x as ee,o as t,c as m,a,D as p,B as D,aM as fe,K as le,Y as M,t as I,E as Q,a5 as ae,n as be,aN as ve,aO as he,v as ge,A as Le,O as ye,al as Oe,q as K,a6 as we,at as A,S as ke,U as Ve,aP as te,a0 as qe,av as Z,aQ as x,H as Ae,aR as je,aS as He,aT as ne,aU as We,Z as ie,g as B,w as V,aD as j,I as k,F as H,b as y,a9 as Je,X as Xe,ac as Ye,aB as re,aV as Ze,aW as xe,aa as el,ab as F,f as de}from"./index.76a9201e.js";import{v as ll}from"./el-loading.bf79f391.js";import{a as al,E as ol,b as sl}from"./el-card.6166231d.js";import{i as tl}from"./el-scrollbar.559b41aa.js";import"./index2.6b7e3edd.js";import"./debounce.e3dc74f1.js";const Ce=Symbol("radioGroupKey"),_e=L({size:ce,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),nl=L(q(O({},_e),{modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean})),Ie={[R]:e=>U(e)||G(e)||z(e),change:e=>U(e)||G(e)||z(e)},Se=(e,o)=>{const n=P(),i=Qe(Ce,void 0),d=C(()=>!!i),h=C({get(){return d.value?i.modelValue:e.modelValue},set(c){d.value?i.changeEvent(c):o(R,c),n.value.checked=e.modelValue===e.label}}),l=me(C(()=>i==null?void 0:i.size)),w=pe(C(()=>i==null?void 0:i.disabled)),v=P(!1),r=C(()=>w.value||d.value&&h.value!==e.label?-1:0);return{radioRef:n,isGroup:d,radioGroup:i,focus:v,size:l,disabled:w,tabIndex:r,modelValue:h}},il=W({name:"ElRadio",props:nl,emits:Ie,setup(e,{emit:o}){const n=J("radio"),{radioRef:i,isGroup:d,focus:h,size:l,disabled:w,tabIndex:v,modelValue:r}=Se(e,o);function c(){ee(()=>o("change",r.value))}return{ns:n,focus:h,isGroup:d,modelValue:r,tabIndex:v,size:l,disabled:w,radioRef:i,handleChange:c}}}),rl=["value","name","disabled"];function dl(e,o,n,i,d,h){return t(),m("label",{class:p([e.ns.b(),e.ns.is("disabled",e.disabled),e.ns.is("focus",e.focus),e.ns.is("bordered",e.border),e.ns.is("checked",e.modelValue===e.label),e.ns.m(e.size)]),onKeydown:o[5]||(o[5]=ae(Q(l=>e.modelValue=e.disabled?e.modelValue:e.label,["stop","prevent"]),["space"]))},[a("span",{class:p([e.ns.e("input"),e.ns.is("disabled",e.disabled),e.ns.is("checked",e.modelValue===e.label)])},[a("span",{class:p(e.ns.e("inner"))},null,2),D(a("input",{ref:"radioRef","onUpdate:modelValue":o[0]||(o[0]=l=>e.modelValue=l),class:p(e.ns.e("original")),value:e.label,type:"radio",name:e.name,disabled:e.disabled,tabindex:"tabIndex",onFocus:o[1]||(o[1]=l=>e.focus=!0),onBlur:o[2]||(o[2]=l=>e.focus=!1),onChange:o[3]||(o[3]=(...l)=>e.handleChange&&e.handleChange(...l))},null,42,rl),[[fe,e.modelValue]])],2),a("span",{class:p(e.ns.e("label")),onKeydown:o[4]||(o[4]=Q(()=>{},["stop"]))},[le(e.$slots,"default",{},()=>[M(I(e.label),1)])],34)],34)}var ul=X(il,[["render",dl],["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const cl=L(q(O({},_e),{name:{type:String,default:""}})),ml=W({name:"ElRadioButton",props:cl,setup(e,{emit:o}){const n=J("radio"),{radioRef:i,isGroup:d,focus:h,size:l,disabled:w,tabIndex:v,modelValue:r,radioGroup:c}=Se(e,o),$=C(()=>({backgroundColor:(c==null?void 0:c.fill)||"",borderColor:(c==null?void 0:c.fill)||"",boxShadow:c!=null&&c.fill?`-1px 0 0 0 ${c.fill}`:"",color:(c==null?void 0:c.textColor)||""}));return{ns:n,isGroup:d,size:l,disabled:w,tabIndex:v,modelValue:r,focus:h,activeStyle:$,radioRef:i}}}),pl=["aria-checked","aria-disabled","tabindex"],fl=["value","name","disabled"];function bl(e,o,n,i,d,h){return t(),m("label",{class:p([e.ns.b("button"),e.ns.is("active",e.modelValue===e.label),e.ns.is("disabled",e.disabled),e.ns.is("focus",e.focus),e.ns.bm("button",e.size)]),role:"radio","aria-checked":e.modelValue===e.label,"aria-disabled":e.disabled,tabindex:e.tabIndex,onKeydown:o[4]||(o[4]=ae(Q(l=>e.modelValue=e.disabled?e.modelValue:e.label,["stop","prevent"]),["space"]))},[D(a("input",{ref:"radioRef","onUpdate:modelValue":o[0]||(o[0]=l=>e.modelValue=l),class:p(e.ns.be("button","original-radio")),value:e.label,type:"radio",name:e.name,disabled:e.disabled,tabindex:"-1",onFocus:o[1]||(o[1]=l=>e.focus=!0),onBlur:o[2]||(o[2]=l=>e.focus=!1)},null,42,fl),[[fe,e.modelValue]]),a("span",{class:p(e.ns.be("button","inner")),style:be(e.modelValue===e.label?e.activeStyle:{}),onKeydown:o[3]||(o[3]=Q(()=>{},["stop"]))},[le(e.$slots,"default",{},()=>[M(I(e.label),1)])],38)],42,pl)}var $e=X(ml,[["render",bl],["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const vl=L({id:{type:String,default:void 0},size:ce,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""}}),hl=Ie,gl=W({name:"ElRadioGroup",props:vl,emits:hl,setup(e,o){const n=J("radio"),i=P(),{formItem:d}=ve(),{inputId:h,isLabeledByFormItem:l}=he(e,{formItemContext:d}),w=r=>{o.emit(R,r),ee(()=>o.emit("change",r))},v=r=>{if(!i.value)return;const c=r.target,$=c.nodeName==="INPUT"?"[type=radio]":"[role=radio]",E=i.value.querySelectorAll($),_=E.length,S=Array.from(E).indexOf(c),T=i.value.querySelectorAll("[role=radio]");let s=null;switch(r.code){case A.left:case A.up:r.stopPropagation(),r.preventDefault(),s=S===0?_-1:S-1;break;case A.right:case A.down:r.stopPropagation(),r.preventDefault(),s=S===_-1?0:S+1;break}s!==null&&(T[s].click(),T[s].focus())};return ge(()=>{const r=i.value.querySelectorAll("[type=radio]"),c=r[0];!Array.from(r).some($=>$.checked)&&c&&(c.tabIndex=0)}),Le(Ce,ye(q(O({},Oe(e)),{changeEvent:w}))),K(()=>e.modelValue,()=>d==null?void 0:d.validate("change").catch(r=>we())),{ns:n,radioGroupRef:i,formItem:d,groupId:h,isLabeledByFormItem:l,handleKeydown:v}}}),yl=["id","aria-label","aria-labelledby"];function wl(e,o,n,i,d,h){return t(),m("div",{id:e.groupId,ref:"radioGroupRef",class:p(e.ns.b("group")),role:"radiogroup","aria-label":e.isLabeledByFormItem?void 0:e.label||"radio-group","aria-labelledby":e.isLabeledByFormItem?e.formItem.labelId:void 0,onKeydown:o[0]||(o[0]=(...l)=>e.handleKeydown&&e.handleKeydown(...l))},[le(e.$slots,"default")],42,yl)}var Be=X(gl,[["render",wl],["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const kl=ke(ul,{RadioButton:$e,RadioGroup:Be}),Vl=Ve(Be);Ve($e);const Cl=L({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:te,default:""},inactiveIcon:{type:te,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:qe(Function)},size:{type:String,validator:tl}}),_l={[R]:e=>z(e)||U(e)||G(e),[Z]:e=>z(e)||U(e)||G(e),[x]:e=>z(e)||U(e)||G(e)},ue="ElSwitch",Il=W({name:ue,components:{ElIcon:Ae,Loading:je},props:Cl,emits:_l,setup(e,{emit:o}){const{formItem:n}=ve(),i=pe(C(()=>e.loading)),d=J("switch"),{inputId:h}=he(e,{formItemContext:n}),l=me(),w=P(e.modelValue!==!1),v=P(),r=P(),c=C(()=>[d.b(),d.m(l.value),d.is("disabled",i.value),d.is("checked",_.value)]),$=C(()=>({width:He(e.width)}));K(()=>e.modelValue,()=>{w.value=!0}),K(()=>e.value,()=>{w.value=!1});const E=C(()=>w.value?e.modelValue:e.value),_=C(()=>E.value===e.activeValue);[e.activeValue,e.inactiveValue].includes(E.value)||(o(R,e.inactiveValue),o(Z,e.inactiveValue),o(x,e.inactiveValue)),K(_,()=>{var b;v.value.checked=_.value,(e.activeColor||e.inactiveColor)&&s(),e.validateEvent&&((b=n==null?void 0:n.validate)==null||b.call(n,"change").catch(g=>we()))});const S=()=>{const b=_.value?e.inactiveValue:e.activeValue;o(R,b),o(Z,b),o(x,b),ee(()=>{v.value.checked=_.value})},T=()=>{if(i.value)return;const{beforeChange:b}=e;if(!b){S();return}const g=b();[ne(g),z(g)].some(N=>N)||We(ue,"beforeChange must return type `Promise<boolean>` or `boolean`"),ne(g)?g.then(N=>{N&&S()}).catch(N=>{}):g&&S()},s=()=>{const b=_.value?e.activeColor:e.inactiveColor,g=r.value;e.borderColor?g.style.borderColor=e.borderColor:e.borderColor||(g.style.borderColor=b),g.style.backgroundColor=b,g.children[0].style.color=b},f=()=>{var b,g;(g=(b=v.value)==null?void 0:b.focus)==null||g.call(b)};return ge(()=>{(e.activeColor||e.inactiveColor||e.borderColor)&&s(),v.value.checked=_.value}),{ns:d,input:v,inputId:h,core:r,switchDisabled:i,checked:_,switchKls:c,coreStyle:$,handleChange:S,switchValue:T,focus:f}}}),Sl=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled"],$l=["aria-hidden"],Bl=["aria-hidden"],Pl=["aria-hidden"],El=["aria-hidden"];function Tl(e,o,n,i,d,h){const l=ie("el-icon"),w=ie("loading");return t(),m("div",{class:p(e.switchKls),onClick:o[2]||(o[2]=Q((...v)=>e.switchValue&&e.switchValue(...v),["prevent"]))},[a("input",{id:e.inputId,ref:"input",class:p(e.ns.e("input")),type:"checkbox",role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled,onChange:o[0]||(o[0]=(...v)=>e.handleChange&&e.handleChange(...v)),onKeydown:o[1]||(o[1]=ae((...v)=>e.switchValue&&e.switchValue(...v),["enter"]))},null,42,Sl),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(t(),m("span",{key:0,class:p([e.ns.e("label"),e.ns.em("label","left"),e.ns.is("active",!e.checked)])},[e.inactiveIcon?(t(),B(l,{key:0},{default:V(()=>[(t(),B(j(e.inactiveIcon)))]),_:1})):k("v-if",!0),!e.inactiveIcon&&e.inactiveText?(t(),m("span",{key:1,"aria-hidden":e.checked},I(e.inactiveText),9,$l)):k("v-if",!0)],2)):k("v-if",!0),a("span",{ref:"core",class:p(e.ns.e("core")),style:be(e.coreStyle)},[e.inlinePrompt?(t(),m("div",{key:0,class:p(e.ns.e("inner"))},[e.activeIcon||e.inactiveIcon?(t(),m(H,{key:0},[e.activeIcon?(t(),B(l,{key:0,class:p([e.ns.is("icon"),e.checked?e.ns.is("show"):e.ns.is("hide")])},{default:V(()=>[(t(),B(j(e.activeIcon)))]),_:1},8,["class"])):k("v-if",!0),e.inactiveIcon?(t(),B(l,{key:1,class:p([e.ns.is("icon"),e.checked?e.ns.is("hide"):e.ns.is("show")])},{default:V(()=>[(t(),B(j(e.inactiveIcon)))]),_:1},8,["class"])):k("v-if",!0)],64)):e.activeText||e.inactiveIcon?(t(),m(H,{key:1},[e.activeText?(t(),m("span",{key:0,class:p([e.ns.is("text"),e.checked?e.ns.is("show"):e.ns.is("hide")]),"aria-hidden":!e.checked},I(e.activeText.substring(0,3)),11,Bl)):k("v-if",!0),e.inactiveText?(t(),m("span",{key:1,class:p([e.ns.is("text"),e.checked?e.ns.is("hide"):e.ns.is("show")]),"aria-hidden":e.checked},I(e.inactiveText.substring(0,3)),11,Pl)):k("v-if",!0)],64)):k("v-if",!0)],2)):k("v-if",!0),a("div",{class:p(e.ns.e("action"))},[e.loading?(t(),B(l,{key:0,class:p(e.ns.is("loading"))},{default:V(()=>[y(w)]),_:1},8,["class"])):k("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(t(),m("span",{key:1,class:p([e.ns.e("label"),e.ns.em("label","right"),e.ns.is("active",e.checked)])},[e.activeIcon?(t(),B(l,{key:0},{default:V(()=>[(t(),B(j(e.activeIcon)))]),_:1})):k("v-if",!0),!e.activeIcon&&e.activeText?(t(),m("span",{key:1,"aria-hidden":!e.checked},I(e.activeText),9,El)):k("v-if",!0)],2)):k("v-if",!0)],2)}var Nl=X(Il,[["render",Tl],["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Fl=ke(Nl),Dl={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px"},zl=a("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),Rl=a("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"},null,-1),Ml=[zl,Rl];function Ul(e,o){return t(),m("svg",Dl,Ml)}var Gl={name:"custom-delete",render:Ul};const Kl={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px"},Ql=a("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),Ll=a("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"},null,-1),Ol=[Ql,Ll];function ql(e,o){return t(),m("svg",Kl,Ol)}var Al={name:"custom-image",render:ql};const jl={"element-loading-text":"\u65B0\u589E\u5546\u54C1\u4E2D\uFF0C\u8ACB\u52FF\u95DC\u9589\u8996\u7A97...",class:"grid grid-cols-12 gap-y-4"},Hl={class:"col-span-6"},Wl={class:"grid grid-cols-12 gap-4"},Jl={class:"col-span-6"},Xl=a("label",{for:"userId",class:"mb-2 ml-1 block select-none text-sm text-gray-600"},"\u500B\u4EBAID",-1),Yl=["value"],Zl={class:"col-span-6"},xl=a("label",{for:"userName",class:"mb-2 ml-1 block select-none text-sm text-gray-600"},"\u540D\u7A31",-1),ea=["value"],la={key:0,class:"col-span-12"},aa=a("label",{class:"mb-2 ml-1 block select-none text-sm text-gray-600"},"\u4E0A\u67B6\u4F4D\u7F6E(\u50C5\u7BA1\u7406\u54E1\u53EF\u898B)",-1),oa=M("\u793E\u7FA4\u5E02\u96C6"),sa=M("\u5B98\u65B9\u5E02\u96C6"),ta={class:"col-span-12"},na=a("label",{for:"productName",class:"mb-2 ml-1 block select-none text-sm text-gray-600"},"\u5546\u54C1\u540D\u7A31",-1),ia={class:"col-span-4"},ra=a("label",{for:"productType",class:"mb-2 ml-1 block select-none text-sm text-gray-600"},"\u985E\u5225",-1),da={class:"col-span-4"},ua=a("label",{for:"productQuality",class:"mb-2 ml-1 block select-none text-sm text-gray-600"},"\u54C1\u8CEA",-1),ca={class:"col-span-4"},ma=a("label",{for:"productIsBluePrint",class:"mb-2 ml-1 block select-none text-sm text-gray-600"},"\u985E\u578B",-1),pa={class:"col-span-12"},fa=a("label",{for:"productMessage",class:"mb-2 ml-1 block select-none text-sm text-gray-600"},"\u5546\u54C1\u5167\u5BB9",-1),ba={class:"col-span-12"},va=a("label",{class:"mb-2 ml-1 block select-none text-sm text-gray-600"},"\u8CA9\u552E\u65B9\u5F0F",-1),ha=M("\u4EE5\u7269\u6613\u7269"),ga=M("\u6AFB\u82B1\u5E63"),ya={class:"col-span-12"},wa={for:"productSaleContent",class:"mb-2 ml-1 block select-none text-sm text-gray-600"},ka=["type"],Va={class:"col-span-12"},Ca=a("label",{for:"productImg",class:"mb-2 ml-1 block select-none text-sm text-gray-600"},"\u5546\u54C1\u5716\u7247",-1),_a={class:"flex items-center gap-2"},Ia={for:"productImg",class:"group flex grow cursor-pointer items-center rounded-md border border-gray-300 bg-white transition hover:border-gray-400 hover:bg-gray-50 focus:border-brand focus:outline-none"},Sa={class:"flex items-center gap-2 border-r border-gray-200 bg-gray-200 px-3 py-2 text-gray-600 transition group-hover:border-gray-300 group-hover:bg-gray-300"},$a=a("span",null," \u9078\u64C7\u6A94\u6848",-1),Ba=["disabled"],Pa={class:"col-span-6 mx-auto"},Ea=a("div",{class:"mb-2 ml-1 block select-none text-sm text-gray-600"},"\u5546\u54C1\u9810\u89BD",-1),Ta=["src"],Na={key:1,class:"flex aspect-[4/3] w-full select-none items-center justify-center bg-gray-200"},Fa=a("span",{class:"text-xl font-bold text-gray-400"},"\u7121\u5546\u54C1\u5716\u7247",-1),Da=[Fa],za={class:"flex grow flex-col justify-between gap-4 p-2"},Ra={class:"flex flex-col gap-2 break-all px-2"},Ma={class:"text-lg font-bold"},Ua={class:"text-sm font-bold"},Ga={key:0,class:"px-2"},Ka=a("span",{class:"mr-2 text-sm text-gray-400"},"\u6AFB\u82B1\u5E63",-1),Qa={class:"text-xl font-bold text-brand"},La={key:1,class:"px-2"},Oa=a("div",{class:"text-sm text-gray-400"},"\u4EE5\u7269\u6613\u7269",-1),qa={class:"font-bold text-brand"},Aa=a("hr",{class:"col-span-12 my-4 border-gray-300"},null,-1),ja=a("div",{class:"col-span-12"},[a("div",{class:"mb-2 text-lg font-bold text-brand"},"\u6CE8\u610F\u4E8B\u9805"),a("ol",{class:"list-inside list-decimal"},[a("li",null,"\u6AFB\u82B1\u5E63\u9700\u8981\u8CB7\u5BB6\u6536\u5230\u8CA8\u4E4B\u5F8C\uFF0C\u5728\u6B64\u4EA4\u6613\u7CFB\u7D71\u4E0A\u78BA\u8A8D\u5B8C\u6210\u6B64\u4EA4\u6613\u6AFB\u82B1\u5E63\u624D\u6703\u8F49\u5E33\u3002"),a("li",null,"\u7269\u54C1\u4EA4\u63DB\u5247\u9700\u8981\u81EA\u884C\u627F\u64D4\u4FE1\u7528\u98A8\u96AA,\u904E\u65BC\u7279\u6B8A\u7684\u5546\u54C1\u7BA1\u7406\u54E1\u53EF\u80FD\u7121\u6CD5\u88DC\u511F\u3002"),a("li",null,"\u8CE3\u5BB6\u9700\u8981\u81EA\u884C\u622A\u5716\u7559\u5B58,\u767C\u751F\u554F\u984C\u6642\u8981\u9644\u4E0A\u622A\u5716\u3002")])],-1),Ha=["src","alt"],lo={name:"MarketUserAdd",setup(e){const o=Je(),n=P(o.state.auth.userInfo),i=[{label:"\u6B66\u5668",value:"weapon",hasBluePrint:!0,hasQuality:!0},{label:"\u9632\u5177",value:"armor",hasBluePrint:!0,hasQuality:!0},{label:"\u9053\u5177",value:"props",hasBluePrint:!0,hasQuality:!1},{label:"\u8CC7\u6E90",value:"resource",hasBluePrint:!1,hasQuality:!1},{label:"\u5176\u4ED6",value:"other",hasBluePrint:!1,hasQuality:!1}],d=[{label:"\u539F\u59CB",value:"primitive"},{label:"\u666E\u901A",value:"ramshackle"},{label:"\u512A\u79C0",value:"apprentice"},{label:"\u7CBE\u826F",value:"journeyman"},{label:"\u53F2\u8A69",value:"mastercraft"},{label:"\u50B3\u8AAA",value:"ascendan"}],h=P(!1),l=ye({isRootUser:C(()=>n.value.isRootUser),userId:C(()=>n.value.id),userName:C(()=>n.value.name),title:null,content:null,type:null,quality:null,hasQuality:!1,isBluePrint:!1,hasBluePrint:!1,saleType:"item",saleContent:null,imgFile:null,imgPreviewSrc:C(()=>l.imgFile?URL.createObjectURL(l.imgFile):null),isOfficialMarket:"community",showDialog:!1});K(()=>l.type,()=>{l.hasQuality=i.some(s=>s.value===l.type&&s.hasQuality),l.quality=l.hasQuality?l.quality:null,l.hasBluePrint=i.some(s=>s.value===l.type&&s.hasBluePrint),l.isBluePrint=l.hasBluePrint?l.isBluePrint:!1});const w=()=>{l.saleContent=null},v=s=>{l.imgFile=s.target.files?s.target.files[0]:null},r=P(),c=()=>{l.imgFile=null,r.value.value=null},$=()=>{l.showDialog=!0},E=()=>{l.showDialog=!1},_=()=>{let s=!0;return l.title?l.content?l.type?l.hasQuality&&!l.quality?(F.error("\u5546\u54C1\u54C1\u8CEA\u672A\u9078\u64C7"),s=!1):l.saleContent||(F.error(`${l.saleType==="item"?"\u60F3\u4EA4\u63DB\u7684\u7269\u54C1":"\u8CA9\u552E\u50F9\u683C"}\u672A\u586B\u5BEB`),s=!1):(F.error("\u5546\u54C1\u985E\u5225\u672A\u9078\u64C7"),s=!1):(F.error("\u5546\u54C1\u5167\u5BB9\u672A\u586B\u5BEB"),s=!1):(F.error("\u5546\u54C1\u6A19\u984C\u672A\u586B\u5BEB"),s=!1),s},S=async()=>{if(!_())return;h.value=!0;let s=new FormData;s.append("catuser",xe("tokenID")),s.append("title",l.title),s.append("message",l.content),s.append("isBlueprint",l.isBluePrint?1:0),s.append("class",l.type),s.append("quality",l.quality),s.append(`${l.saleType==="item"?"game_item":"money"}`,l.saleContent),l.imgFile&&s.append("my_file",l.imgFile),s.append("isRootUser",l.isOfficialMarket==="community"?0:1),await el({method:"post",url:"newTanApi.php",headers:{"Content-Type":"multipart/form-data"},data:s}).then(()=>{F.success("\u6210\u529F\u65B0\u589E\u5546\u54C1"),T(),h.value=!1}).catch(f=>{alert("\u65B0\u589E\u5546\u54C1\u5931\u6557"),h.value=!1,console.error(f)})},T=()=>{l.title=null,l.content=null,l.type=null,l.quality=null,l.isBluePrint=!1,l.saleContent=null,l.imgFile=null,r.value.value=null};return(s,f)=>{const b=kl,g=Vl,Y=al,N=ol,Pe=Fl,Ee=Al,Te=Gl,Ne=Xe,Fe=sl,De=Ye,ze=ll;return D((t(),m("div",jl,[a("form",Hl,[a("ul",Wl,[a("li",Jl,[Xl,a("input",{id:"userId",type:"text",autocomplete:"off",value:l.userId,readonly:"",class:"w-full rounded-md border border-gray-100 bg-gray-200 px-3 py-2 transition focus:border-brand focus:outline-none"},null,8,Yl)]),a("li",Zl,[xl,a("input",{id:"userName",type:"text",autocomplete:"off",value:l.userName,readonly:"",class:"w-full rounded-md border border-gray-100 bg-gray-200 px-3 py-2 transition focus:border-brand focus:outline-none"},null,8,ea)]),l.isRootUser?(t(),m("li",la,[aa,y(g,{modelValue:l.isOfficialMarket,"onUpdate:modelValue":f[0]||(f[0]=u=>l.isOfficialMarket=u)},{default:V(()=>[y(b,{label:"community",size:"large",border:"",class:"bg-white"},{default:V(()=>[oa]),_:1}),y(b,{label:"Oofficial",size:"large",border:"",class:"bg-white"},{default:V(()=>[sa]),_:1})]),_:1},8,["modelValue"])])):k("",!0),a("li",ta,[na,D(a("input",{id:"productName","onUpdate:modelValue":f[1]||(f[1]=u=>l.title=u),type:"text",autocomplete:"off",class:"w-full rounded-md border border-gray-200 px-3 py-2 transition focus:border-brand focus:outline-none"},null,512),[[re,l.title]])]),a("li",ia,[ra,y(N,{id:"productType",modelValue:l.type,"onUpdate:modelValue":f[2]||(f[2]=u=>l.type=u),placeholder:"\u8ACB\u9078\u64C7\u985E\u5225",size:"large"},{default:V(()=>[(t(),m(H,null,de(i,u=>y(Y,{key:u.value,label:u.label,value:u.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),a("li",da,[ua,y(N,{id:"productQuality",modelValue:l.quality,"onUpdate:modelValue":f[3]||(f[3]=u=>l.quality=u),placeholder:"\u8ACB\u9078\u64C7\u54C1\u8CEA",size:"large",disabled:!l.hasQuality},{default:V(()=>[(t(),m(H,null,de(d,u=>y(Y,{key:u.value,label:u.label,value:u.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"])]),a("li",ca,[ma,y(Pe,{id:"productIsBluePrint",modelValue:l.isBluePrint,"onUpdate:modelValue":f[4]||(f[4]=u=>l.isBluePrint=u),disabled:!l.hasBluePrint,size:"large","active-text":"\u85CD\u5716","inactive-text":"\u6210\u54C1",class:"pl-3"},null,8,["modelValue","disabled"])]),a("li",pa,[fa,D(a("input",{id:"productMessage","onUpdate:modelValue":f[5]||(f[5]=u=>l.content=u),type:"text",autocomplete:"off",class:"w-full rounded-md border border-gray-200 px-3 py-2 transition focus:border-brand focus:outline-none"},null,512),[[re,l.content]])]),a("li",ba,[va,y(g,{modelValue:l.saleType,"onUpdate:modelValue":f[6]||(f[6]=u=>l.saleType=u),onChange:w},{default:V(()=>[y(b,{label:"item",size:"large",border:"",class:"bg-white"},{default:V(()=>[ha]),_:1}),y(b,{label:"money",size:"large",border:"",class:"bg-white"},{default:V(()=>[ga]),_:1})]),_:1},8,["modelValue"])]),a("li",ya,[a("label",wa,I(l.saleType==="item"?"\u60F3\u4EA4\u63DB\u7684\u7269\u54C1":"\u8CA9\u552E\u50F9\u683C"),1),D(a("input",{id:"productSaleContent","onUpdate:modelValue":f[7]||(f[7]=u=>l.saleContent=u),type:l.saleType==="item"?"text":"number",autocomplete:"off",class:"w-full rounded-md border border-gray-200 px-3 py-2 transition focus:border-brand focus:outline-none"},null,8,ka),[[Ze,l.saleContent]])]),a("li",Va,[Ca,a("div",_a,[a("label",Ia,[a("div",Sa,[y(Ee,{class:"text-xl"}),$a]),a("span",{class:p(["ml-3",l.imgFile?"text-brand":"text-gray-400"])},I(l.imgFile?l.imgFile.name:"\u5C1A\u672A\u4E0A\u50B3\u5716\u7247"),3)]),a("button",{type:"button",class:p(["rounded-md border px-3 py-2 transition",l.imgFile?"border-gray-300 bg-gray-200 text-gray-600 hover:border-gray-400 hover:bg-gray-300":"border-gray-200 bg-gray-100 text-gray-200"]),disabled:!l.imgFile,onClick:c},[y(Te,{class:"text-xl"})],10,Ba)]),a("input",{id:"productImg",ref_key:"imgFileElement",ref:r,type:"file",autocomplete:"off",class:"hidden",accept:".png, .jpg, .jpeg",onChange:v},null,544)])])]),a("div",Pa,[Ea,y(Fe,{"body-style":{padding:"0px",height:"100%",display:"flex",flexDirection:"column"},shadow:"hover",class:"w-60"},{default:V(()=>[l.imgPreviewSrc?(t(),m("button",{key:0,type:"button",onClick:$},[a("img",{class:"aspect-[4/3] w-full object-cover",src:l.imgPreviewSrc},null,8,Ta)])):(t(),m("div",Na,Da)),a("div",za,[a("div",Ra,[a("div",Ma,I(l.title?l.title:"\u7121\u540D\u7A31"),1),y(Ne,{class:"my-0"}),a("div",Ua,I(l.userName),1),a("div",null,I(l.content?l.content:"\u7121\u5167\u5BB9"),1)]),a("div",null,[l.saleType==="money"?(t(),m("div",Ga,[Ka,a("span",Qa,"$"+I(l.saleContent),1)])):(t(),m("div",La,[Oa,a("div",qa,I(l.saleContent||"\u7121\u8CC7\u6599"),1)]))])])]),_:1})]),Aa,ja,a("div",{class:"col-span-12 ml-auto flex gap-4"},[a("button",{type:"button",class:"rounded-md border border-gray-300 bg-brand px-4 py-2 text-white transition hover:bg-brand-dark",onClick:S}," \u6211\u5DF2\u7D93\u95B1\u8B80\u6CE8\u610F\u4E8B\u9805\uFF0C\u78BA\u5B9A\u4E0A\u67B6 "),a("button",{type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 transition hover:bg-gray-200",onClick:T}," \u6E05\u9664\u5DF2\u8F38\u5165\u7684\u5167\u5BB9 ")]),y(De,{modelValue:l.showDialog,"onUpdate:modelValue":f[8]||(f[8]=u=>l.showDialog=u),title:l.title,width:"40rem",onClosed:E},{default:V(()=>[l.showDialog?(t(),m("img",{key:0,src:l.imgPreviewSrc,alt:l.title,class:"w-max-full mx-auto"},null,8,Ha)):k("",!0)]),_:1},8,["modelValue","title"])])),[[ze,h.value,void 0,{fullscreen:!0,lock:!0}]])}}};export{lo as default};
