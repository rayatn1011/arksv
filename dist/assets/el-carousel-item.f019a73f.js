var Ne=Object.defineProperty,Te=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var ne=(c,i,r)=>i in c?Ne(c,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):c[i]=r,J=(c,i)=>{for(var r in i||(i={}))Be.call(i,r)&&ne(c,r,i[r]);if(oe)for(var r of oe(i))Ae.call(i,r)&&ne(c,r,i[r]);return c},Q=(c,i)=>Te(c,$e(i));import{i as Le,h as ce,j as Oe,k as ve,l as fe,r as d,m as S,u as t,q as Y,s as Pe,v as me,x as Re,y as ze,z as He,A as Ve,o as I,c as M,a as U,g as le,w as j,B as W,C as K,D as C,E as z,b as F,G as De,H as re,T as ue,I as H,J as Ue,K as pe,n as de,F as je,f as Fe,t as We,L as he,M as Ke,N as Xe,O as qe,P as Ge,Q as Je,R as Qe,S as Ye,U as Ze}from"./index.76a9201e.js";import{d as xe}from"./debounce.e3dc74f1.js";var et="Expected a function";function ie(c,i,r){var a=!0,u=!0;if(typeof c!="function")throw new TypeError(et);return Le(r)&&(a="leading"in r?!!r.leading:a,u="trailing"in r?!!r.trailing:u),xe(c,i,{leading:a,maxWait:i,trailing:u})}const ge=Symbol("carouselContextKey"),tt=ce({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:{type:String,default:""},loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator(c){return["horizontal","vertical"].includes(c)}},pauseOnHover:{type:Boolean,default:!0}}),at={change:(c,i)=>[c,i].every(Oe)},st=["onMouseenter","onMouseleave"],ot=["onMouseenter","onClick"],nt={key:0},lt={name:"ElCarousel"},rt=ve(Q(J({},lt),{props:tt,emits:at,setup(c,{expose:i,emit:r}){const a=c,u=fe("carousel"),b=300,n=d(-1),h=d(null),_=d(!1),g=d(),v=d([]),k=S(()=>a.arrow!=="never"&&!t($)),N=S(()=>v.value.some(e=>e.props.label.toString().length>0)),T=S(()=>{const e=[u.b(),u.m(a.direction)];return t(L)&&e.push(u.m("card")),e}),V=S(()=>{const e=[u.e("indicators"),u.em("indicators",a.direction)];return N.value&&e.push(u.em("indicators","labels")),(a.indicatorPosition==="outside"||t(L))&&e.push(u.em("indicators","outside")),e}),L=S(()=>a.type==="card"),$=S(()=>a.direction==="vertical"),D=ie(e=>{o(e)},b,{trailing:!0}),X=ie(e=>{Ce(e)},b);function O(){h.value&&(clearInterval(h.value),h.value=null)}function P(){a.interval<=0||!a.autoplay||h.value||(h.value=setInterval(()=>l(),a.interval))}const l=()=>{n.value<v.value.length-1?n.value=n.value+1:a.loop&&(n.value=0)};function o(e){if(Ke(e)){const y=v.value.filter(A=>A.props.name===e);y.length>0&&(e=v.value.indexOf(y[0]))}if(e=Number(e),Number.isNaN(e)||e!==Math.floor(e))return;const s=v.value.length,m=n.value;e<0?n.value=a.loop?s-1:0:e>=s?n.value=a.loop?0:s-1:n.value=e,m===n.value&&f(m)}function f(e){v.value.forEach((s,m)=>{s.translateItem(m,n.value,e)})}function p(e){v.value.push(e)}function E(e){const s=v.value.findIndex(m=>m.uid===e);s!==-1&&(v.value.splice(s,1),n.value===s&&ee())}function B(e,s){var m,y,A,te;const R=t(v),ae=R.length;if(ae===0||!e.states.inStage)return!1;const we=s+1,be=s-1,se=ae-1,ke=R[se].states.active,Ee=R[0].states.active,Se=(y=(m=R[we])==null?void 0:m.states)==null?void 0:y.active,Me=(te=(A=R[be])==null?void 0:A.states)==null?void 0:te.active;return s===se&&Ee||Se?"left":s===0&&ke||Me?"right":!1}function w(){_.value=!0,a.pauseOnHover&&O()}function q(){_.value=!1,P()}function Z(e){t($)||v.value.forEach((s,m)=>{e===B(s,m)&&(s.states.hover=!0)})}function x(){t($)||v.value.forEach(e=>{e.states.hover=!1})}function Ie(e){n.value=e}function Ce(e){a.trigger==="hover"&&e!==n.value&&(n.value=e)}function _e(){o(n.value-1)}function ee(){o(n.value+1)}Y(()=>n.value,(e,s)=>{f(s),s>-1&&r("change",e,s)}),Y(()=>a.autoplay,e=>{e?P():O()}),Y(()=>a.loop,()=>{o(n.value)});const G=Pe();return me(async()=>{await Re(),G.value=ze(g.value,()=>{f()}),a.initialIndex<v.value.length&&a.initialIndex>=0&&(n.value=a.initialIndex),P()}),He(()=>{O(),g.value&&G.value&&G.value.stop()}),Ve(ge,{root:g,isCardType:L,isVertical:$,items:v,loop:a.loop,addItem:p,removeItem:E,setActiveItem:o}),i({setActiveItem:o,prev:_e,next:ee}),(e,s)=>(I(),M("div",{ref_key:"root",ref:g,class:C(t(T)),onMouseenter:z(w,["stop"]),onMouseleave:z(q,["stop"])},[U("div",{class:C(t(u).e("container")),style:de({height:e.height})},[t(k)?(I(),le(ue,{key:0,name:"carousel-arrow-left"},{default:j(()=>[W(U("button",{type:"button",class:C([t(u).e("arrow"),t(u).em("arrow","left")]),onMouseenter:s[0]||(s[0]=m=>Z("left")),onMouseleave:x,onClick:s[1]||(s[1]=z(m=>t(D)(n.value-1),["stop"]))},[F(t(re),null,{default:j(()=>[F(t(De))]),_:1})],34),[[K,(e.arrow==="always"||_.value)&&(a.loop||n.value>0)]])]),_:1})):H("v-if",!0),t(k)?(I(),le(ue,{key:1,name:"carousel-arrow-right"},{default:j(()=>[W(U("button",{type:"button",class:C([t(u).e("arrow"),t(u).em("arrow","right")]),onMouseenter:s[2]||(s[2]=m=>Z("right")),onMouseleave:x,onClick:s[3]||(s[3]=z(m=>t(D)(n.value+1),["stop"]))},[F(t(re),null,{default:j(()=>[F(t(Ue))]),_:1})],34),[[K,(e.arrow==="always"||_.value)&&(a.loop||n.value<v.value.length-1)]])]),_:1})):H("v-if",!0),pe(e.$slots,"default")],6),e.indicatorPosition!=="none"?(I(),M("ul",{key:0,class:C(t(V))},[(I(!0),M(je,null,Fe(v.value,(m,y)=>(I(),M("li",{key:y,class:C([t(u).e("indicator"),t(u).em("indicator",e.direction),t(u).is("active",y===n.value)]),onMouseenter:A=>t(X)(y),onClick:z(A=>Ie(y),["stop"])},[U("button",{class:C(t(u).e("button"))},[t(N)?(I(),M("span",nt,We(m.props.label),1)):H("v-if",!0)],2)],42,ot))),128))],2)):H("v-if",!0)],42,st))}}));var ut=he(rt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const it=ce({name:{type:String,default:""},label:{type:[String,Number],default:""}}),ct={name:"ElCarouselItem"},vt=ve(Q(J({},ct),{props:it,setup(c){const i=c,r=fe("carousel"),a=Xe(ge),u=Je(),b=.83,n=d(!1),h=d(0),_=d(1),g=d(!1),v=d(!1),k=d(!1),N=d(!1),{isCardType:T,isVertical:V}=a,L=S(()=>{const o=`${`translate${t(V)?"Y":"X"}`}(${t(h)}px)`,f=`scale(${t(_)})`;return{transform:[o,f].join(" ")}});function $(l,o,f){const p=f-1,E=o-1,B=o+1,w=f/2;return o===0&&l===p?-1:o===p&&l===0?f:l<E&&o-l>=w?f+1:l>B&&l-o>=w?-2:l}function D(l,o){var f;const p=((f=a.root.value)==null?void 0:f.offsetWidth)||0;return k.value?p*((2-b)*(l-o)+1)/4:l<o?-(1+b)*p/4:(3+b)*p/4}function X(l,o,f){const p=a.root.value;return p?((f?p.offsetHeight:p.offsetWidth)||0)*(l-o):0}const O=(l,o,f)=>{var p;const E=t(T),B=(p=a.items.value.length)!=null?p:Number.NaN,w=l===o;!E&&!Qe(f)&&(N.value=w||l===f),!w&&B>2&&a.loop&&(l=$(l,o,B));const q=t(V);g.value=w,E?(k.value=Math.round(Math.abs(l-o))<=1,h.value=D(l,o),_.value=t(g)?1:b):h.value=X(l,o,q),v.value=!0};function P(){if(a&&t(T)){const l=a.items.value.findIndex(({uid:o})=>o===u.uid);a.setActiveItem(l)}}return me(()=>{a.addItem({props:i,states:qe({hover:n,translate:h,scale:_,active:g,ready:v,inStage:k,animating:N}),uid:u.uid,translateItem:O})}),Ge(()=>{a.removeItem(u.uid)}),(l,o)=>W((I(),M("div",{class:C([t(r).e("item"),t(r).is("active",g.value),t(r).is("in-stage",k.value),t(r).is("hover",n.value),t(r).is("animating",N.value),{[t(r).em("item","card")]:t(T)}]),style:de(t(L)),onClick:P},[t(T)?W((I(),M("div",{key:0,class:C(t(r).e("mask"))},null,2)),[[K,!g.value]]):H("v-if",!0),pe(l.$slots,"default")],6)),[[K,v.value]])}}));var ye=he(vt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const dt=Ye(ut,{CarouselItem:ye}),ht=Ze(ye);export{ht as E,dt as a};
